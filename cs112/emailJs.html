<!DOCTYPE html>
<html>
<head>
    <title>Schedule</title>
    <style>
        /* Style for the red box with white bolded number */
        .number-box {
            background-color: red;
            color: white;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            padding: 10px;
            width: 300px;
            border-radius: 5px;
            margin: 0 auto 20px auto;
        }

        /* Center the form on the page */
        form {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        form input {
            margin: 5px 0;
            padding: 10px;
            width: 200px;
        }

        a {
            display: block;
            text-align: center;
            margin-top: 20px;
        }

        iframe {
            margin: 40px auto;
            display: block;
            border: none;
            width: 100%;
            max-width: 600px;
            height: 450px;
        }
    </style>
</head>
<body>
    <!-- Red box with phone number -->
    <div class="number-box">Call Now! (818) 462-4978</div>

    <!-- Form -->
    <form id="signup-form">
        <label>Name</label>
        <input type="text" id="name" placeholder="Enter your name" required>
        <label>Phone</label>
        <input type="text" id="phone" placeholder="Enter your phone number" required>
        <label>Email</label>
        <input type="email" id="email" placeholder="Enter your email" required>
        <label>Street Address</label>
        <input type="text" id="address" placeholder="Enter your address" required>
        <input type="submit" value="Submit">
        <input type="reset" value="Reset">
    </form>

    <!-- Google Maps Location -->
    <iframe 
        src="https://www.google.com/maps/embed/v1/place?q=660+S+Vancouver+90022,+Los+Angeles&key=AIzaSyD19QSqDrnvW-ntQyLZ3ITXkS6RQMPTKBg" 
        allowfullscreen>
    </iframe>

    <!-- Navigation Link -->
    <a href="index.html">Home</a>

    <!-- EmailJS Script -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <!-- Script to Handle Form Submission -->
    <script>
        (function () {
            // Initialize EmailJS with your public key
            emailjs.init("k6587LpzvHLimjXW7");
        })();

        document.getElementById("signup-form").addEventListener("submit", function (event) {
            event.preventDefault(); // Prevent page reload

            // Get form values
            const name = document.getElementById("name").value;
            const phone = document.getElementById("phone").value;
            const email = document.getElementById("email").value;
            const address = document.getElementById("address").value;

            // Prepare template parameters
            const templateParams = {
                from_name: name,
                phone: phone,
                email: email,
                address: address,
            };

            // Send email using EmailJS
            emailjs
                .send("service_9igwrzi", "template_wekh6j9", templateParams)
                .then(function (response) {
                    console.log("SUCCESS!", response.status, response.text);
                    alert("Signup successful! We'll notify you shortly.");
                })
                .catch(function (error) {
                    console.error("FAILED...", error);
                    alert("There was an error submitting the form. Please try again.");
                });
        });
    </script>
</body>
</html>
